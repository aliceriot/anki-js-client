(this.webpackJsonpkanji=this.webpackJsonpkanji||[]).push([[0],{14:function(e,a,t){e.exports=t(25)},19:function(e,a,t){},20:function(e,a,t){},25:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(2),i=t.n(r),c=(t(19),t(20),t(27)),m=t(4),o=t.n(m),u=t(6),s=t(1);function d(e){var a=e.item,t=e.label,n=e.fieldName,r=e.html;return l.a.createElement("div",{className:"dialog-field"},l.a.createElement("div",{className:"label"},t,":"),l.a.createElement("div",{className:"value"},r?l.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.fields[n].value}}):a.fields[n].value))}var v=t(7),f=t(8),b=t(12),h=t(9),E=t(13),g=t(10),N=function(e){function a(){var e,t;Object(v.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(b.a)(this,(e=Object(h.a)(a)).call.apply(e,[this].concat(l)))).handleClickOutside=function(e){(0,t.props.hide)()},t}return Object(E.a)(a,e),Object(f.a)(a,[{key:"render",value:function(){var e=this.props.children;return l.a.createElement("dialog",{open:!0,className:"item-dialog"},e)}}]),a}(n.Component),j=Object(g.a)(N),p=function(e){var a,t,n=e>500?1:e/500;return(n*=100)<50?(a=255,t=Math.round(5.1*n)):(t=255,a=Math.round(510-5.1*n)),"#"+("000000"+(65536*a+256*t+0).toString(16)).slice(-6)};function _(e){var a=e.kanji,t=Object(n.useState)(!1),r=Object(s.a)(t,2),i=r[0],c=r[1];return a?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"kanji",onClick:function(){return c(!0)},style:{backgroundColor:a.interval_avg?p(a.interval_avg):"white"}},a.fields.Characters.value),i?l.a.createElement(j,{hide:function(){return c(!1)}},l.a.createElement("h2",{className:"dialog-title"},a.fields.Characters.value),l.a.createElement(d,{item:a,label:"meaning",fieldName:"Meaning"}),l.a.createElement(d,{item:a,label:"\u97f3\u8aad\u307f",fieldName:"Reading_Onyomi",html:!0}),l.a.createElement(d,{item:a,label:"\u8a13\u8aad\u307f",fieldName:"Reading_Kunyomi",html:!0}),l.a.createElement(d,{item:a,label:"\u90e8\u9996",fieldName:"Component_Names"}),l.a.createElement(d,{item:a,label:"meaning mnemonic",fieldName:"Meaning_Mnemonic",html:!0}),l.a.createElement(d,{item:a,label:"meaning info",fieldName:"Meaning_Info",html:!0}),l.a.createElement(d,{item:a,label:"reading mnemonic",fieldName:"Reading_Mnemonic",html:!0}),l.a.createElement(d,{item:a,label:"reading info",fieldName:"Reading_Info",html:!0})):null):null}function k(e){var a=e.vocab,t=Object(n.useState)(!1),r=Object(s.a)(t,2),i=r[0],c=r[1];return a?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"vocab",onClick:function(){return c(!0)},key:a,style:{backgroundColor:a.interval_avg?p(a.interval_avg):"white"}},a.fields.Characters.value),i?l.a.createElement(j,{hide:function(){return c(!1)}},l.a.createElement("h2",{className:"dialog-title"},a.fields.Characters.value),l.a.createElement(d,{item:a,label:"meaning",fieldName:"Meaning"}),l.a.createElement(d,{item:a,label:"part of speech",fieldName:"Speech_Type"}),l.a.createElement(d,{item:a,label:"reading",fieldName:"Reading",html:!0}),l.a.createElement(d,{item:a,label:"\u767a\u97f3",fieldName:"Reading",html:!0}),l.a.createElement(d,{item:a,label:"meaning mnemonic",fieldName:"Meaning_Mnemonic",html:!0}),l.a.createElement(d,{item:a,label:"reading mnemonic",fieldName:"Reading_Mnemonic",html:!0}),l.a.createElement(d,{item:a,label:"\u65e5\u672c\u8a9e",fieldName:"Context_jp",html:!0}),l.a.createElement(d,{item:a,label:"\u82f1\u8a9e",fieldName:"Context_en",html:!0}),l.a.createElement(d,{item:a,label:"\u65e5\u672c\u8a9e",fieldName:"Context_jp_2",html:!0}),l.a.createElement(d,{item:a,label:"\u82f1\u8a9e",fieldName:"Context_en_2",html:!0}),l.a.createElement(d,{item:a,label:"\u65e5\u672c\u8a9e",fieldName:"Context_jp_3",html:!0}),l.a.createElement(d,{item:a,label:"\u82f1\u8a9e",fieldName:"Context_en_3",html:!0})):null):null}var O=new(t(11).a)("ankidb");O.version(1).stores({kanji:"kanji,noteId,interval_avg,level",vocab:"vocab,noteId,interval_avg,level"}),window.db=O;var w=O;function y(e){var a=e.level,t=Object(n.useState)(!1),r=Object(s.a)(t,2),i=r[0],c=r[1],m=Object(n.useState)(null),d=Object(s.a)(m,2),v=d[0],f=d[1],b=Object(n.useState)(null),h=Object(s.a)(b,2),E=h[0],g=h[1],N=Object(n.useState)(null),j=Object(s.a)(N,2),p=j[0],O=j[1],y=Object(n.useState)(null),C=Object(s.a)(y,2),x=C[0],M=C[1];return Object(n.useEffect)((function(){(function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,l,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=17;break}return e.next=3,w.kanji.where("level").equals(a).toArray();case 3:return t=e.sent,f(t),e.next=7,w.kanji.where("level").equals(a).and((function(e){return 0!==e.interval_avg})).count();case 7:return n=e.sent,O(n),e.next=11,w.vocab.where("level").equals(a).toArray();case 11:return l=e.sent,g(l),e.next=15,w.vocab.where("level").equals(a).and((function(e){return 0!==e.interval_avg})).count();case 15:r=e.sent,M(r);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),l.a.createElement("div",{className:"level"},l.a.createElement("div",{className:"level-header"},l.a.createElement("div",{class:"level-name",onClick:function(){return c(!i)}},a),i?l.a.createElement("div",{class:"refresh"},"\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5"):null),i?l.a.createElement("div",{className:"level"},l.a.createElement("div",{className:"sub-level-heading"},l.a.createElement("h3",null,"\u6f22\u5b57"),p?l.a.createElement("div",{className:"num-learned"},p," / ",v.length):null),v?l.a.createElement("div",{className:"kanjis"},v.map((function(e){return l.a.createElement(_,{kanji:e,key:e.kanji})}))):null,l.a.createElement("div",{className:"sub-level-heading"},l.a.createElement("h3",null,"\u8a9e\u5f59"),x?l.a.createElement("div",{className:"num-learned"},x," / ",E.length):null),E?l.a.createElement("div",{className:"vocabs"},E.map((function(e){return l.a.createElement(k,{vocab:e,key:e.vocab})}))):null):null)}var C=Object(c.a)((function(e){return e+1}),60);function x(){return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"item-list"},C.map((function(e){return l.a.createElement(y,{level:e,key:e})}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement((function(){return l.a.createElement(x,null)}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.c3747032.chunk.js.map